<!-- Licensed to the .NET Foundation under one or more agreements. The .NET Foundation licenses this file to you under the MIT license. See the LICENSE.md file in the project root for more information. -->
<Project>
  <!-- Arcade features -->
  <PropertyGroup>
    <UsingToolNetFrameworkReferenceAssemblies>true</UsingToolNetFrameworkReferenceAssemblies>
  </PropertyGroup>
  <PropertyGroup>
    <VersionMajor>8</VersionMajor>
    <VersionMinor>0</VersionMinor>
    <VersionSDKMinor>4</VersionSDKMinor>
    <!-- Use the feature version for each monthly servicng release -->
    <!-- Use the patch version for intra-monthly releases and hotfixes -->
    <VersionFeature>04</VersionFeature>
    <VersionPatch>2</VersionPatch>
    <VersionPrefix>$(VersionMajor).$(VersionSDKMinor)$(VersionFeature).$(VersionPatch)</VersionPrefix>
    <!-- Set the workloads version to include in the readme, use four part if non-zero patch -->
    <WorkloadsVersion>$(VersionMajor).$(VersionMinor).$(VersionSDKMinor)$(VersionFeature)</WorkloadsVersion>
    <WorkloadsVersion Condition="'$(VersionPatch)' != '0'">$(WorkloadsVersion).$(VersionPatch)</WorkloadsVersion>
    <MajorMinorVersion>$(VersionMajor).$(VersionMinor)</MajorMinorVersion>
    <CliProductBandVersion>$(MajorMinorVersion).$(VersionSDKMinor)</CliProductBandVersion>
    <SdkFeatureBand>$(VersionMajor).$(VersionMinor).$(VersionSDKMinor)00</SdkFeatureBand>
    <!-- Enable to remove prerelease label. -->
    <StabilizePackageVersion Condition="'$(StabilizePackageVersion)' == ''">true</StabilizePackageVersion>
    <DotNetFinalVersionKind Condition="'$(StabilizePackageVersion)' == 'true'">release</DotNetFinalVersionKind>
    <!-- Calculate prerelease label
    Use preview and prerelease version 0 for SDK feature band previews
    Use preview and the matching SDK preview version for Major version previews -->
    <PreReleaseVersionLabel>servicing</PreReleaseVersionLabel>
    <PreReleaseVersionIteration Condition="'$(StabilizePackageVersion)' != 'true'">
    </PreReleaseVersionIteration>
    <SDKFeatureBand Condition="'$(StabilizePackageVersion)' != 'true' and $(PreReleaseVersionLabel) != 'servicing'">$(SDKFeatureBand)-$(PreReleaseVersionLabel).$(PreReleaseVersionIteration)</SDKFeatureBand>
    <!-- Use four part version if it's not a preview and not the .0 release-->
    <WorkloadsVersion Condition="'$(StabilizePackageVersion)' == 'true' and '$(VersionPatch)' != '0'">$(WorkloadsVersion).$(VersionPatch)</WorkloadsVersion>
  </PropertyGroup>
  <!-- Restore feeds -->
  <PropertyGroup Label="Restore feeds">
    <!-- In an orchestrated build, this may be overridden to other Azure feeds. -->
    <DotNetAssetRootUrl Condition="'$(DotNetAssetRootUrl)'==''">https://dotnetbuilds.blob.core.windows.net/public/</DotNetAssetRootUrl>
    <DotNetPrivateAssetRootUrl Condition="'$(DotNetPrivateAssetRootUrl)'==''">https://dotnetclimsrc.blob.core.windows.net/dotnet/</DotNetPrivateAssetRootUrl>
  </PropertyGroup>
  <PropertyGroup>
    <MicrosoftDotNetBuildTasksInstallersVersion>$(ArcadeSdkVersion)</MicrosoftDotNetBuildTasksInstallersVersion>
    <MicrosoftDotNetBuildTasksWorkloadsPackageVersion>$(ArcadeSdkVersion)</MicrosoftDotNetBuildTasksWorkloadsPackageVersion>
  </PropertyGroup>
  <PropertyGroup>
    <WixPackageVersion>3.14.0-8606.20240208.1</WixPackageVersion>
    <SwixPackageVersion>1.1.87-gba258badda</SwixPackageVersion>
  </PropertyGroup>
  <PropertyGroup Label="EmscriptenWorkloads">
    <!-- Workloads from dotnet/emsdk -->
    <MicrosoftNETWorkloadEmscriptenCurrentManifest80100PackageVersion>8.0.11</MicrosoftNETWorkloadEmscriptenCurrentManifest80100PackageVersion>
    <EmscriptenWorkloadManifestVersion>$(MicrosoftNETWorkloadEmscriptenCurrentManifest80100PackageVersion)</EmscriptenWorkloadManifestVersion>
    <!-- emsdk workload prerelease version band must match the emsdk feature band -->
    <EmscriptenWorkloadFeatureBand>8.0.100$([System.Text.RegularExpressions.Regex]::Match($(EmscriptenWorkloadManifestVersion), `-[A-z]*[\.]*\d*`))</EmscriptenWorkloadFeatureBand>
  </PropertyGroup>
  <PropertyGroup Label="MauiWorkloads">
    <MauiFeatureBand>8.0.100</MauiFeatureBand>
    <MicrosoftNETSdkAndroidManifest80100PackageVersion>34.0.145</MicrosoftNETSdkAndroidManifest80100PackageVersion>
    <MicrosoftNETSdkiOSManifest80100PackageVersion>18.0.8319</MicrosoftNETSdkiOSManifest80100PackageVersion>
    <MicrosoftNETSdktvOSManifest80100PackageVersion>18.0.8319</MicrosoftNETSdktvOSManifest80100PackageVersion>
    <MicrosoftNETSdkMacCatalystManifest80100PackageVersion>18.0.8319</MicrosoftNETSdkMacCatalystManifest80100PackageVersion>
    <MicrosoftNETSdkmacOSManifest80100PackageVersion>15.0.8319</MicrosoftNETSdkmacOSManifest80100PackageVersion>
    <MicrosoftNETSdkMauiManifest80100PackageVersion>8.0.83</MicrosoftNETSdkMauiManifest80100PackageVersion>
    <MauiWorkloadManifestVersion>$(MicrosoftNETSdkMauiManifest80100PackageVersion)</MauiWorkloadManifestVersion>
    <XamarinAndroidWorkloadManifestVersion>$(MicrosoftNETSdkAndroidManifest80100PackageVersion)</XamarinAndroidWorkloadManifestVersion>
    <XamarinIOSWorkloadManifestVersion>$(MicrosoftNETSdkiOSManifest80100PackageVersion)</XamarinIOSWorkloadManifestVersion>
    <XamarinMacCatalystWorkloadManifestVersion>$(MicrosoftNETSdkMacCatalystManifest80100PackageVersion)</XamarinMacCatalystWorkloadManifestVersion>
    <XamarinMacOSWorkloadManifestVersion>$(MicrosoftNETSdkmacOSManifest80100PackageVersion)</XamarinMacOSWorkloadManifestVersion>
    <XamarinTvOSWorkloadManifestVersion>$(MicrosoftNETSdktvOSManifest80100PackageVersion)</XamarinTvOSWorkloadManifestVersion>
  </PropertyGroup>
  <PropertyGroup Label="MonoWorkloads">
    <MicrosoftNETCoreAppRefPackageVersion>8.0.11</MicrosoftNETCoreAppRefPackageVersion>
    <!-- Workloads from dotnet/runtime use MicrosoftNETCoreAppRefPackageVersion because it has a stable name that does not include the full feature band -->
    <MonoWorkloadManifestVersion>$(MicrosoftNETCoreAppRefPackageVersion)</MonoWorkloadManifestVersion>
    <!-- mono workload prerelease version band must match the runtime feature band -->
    <MonoWorkloadFeatureBand>8.0.100$([System.Text.RegularExpressions.Regex]::Match($(MonoWorkloadManifestVersion), `-[A-z]*[\.]*\d*`))</MonoWorkloadFeatureBand>
  </PropertyGroup>
  <PropertyGroup Label="AspireWorkloads">
    <AspireFeatureBand>8.0.100</AspireFeatureBand>
    <MicrosoftNETSdkAspireManifest80100PackageVersion>8.2.2</MicrosoftNETSdkAspireManifest80100PackageVersion>
    <AspireWorkloadManifestVersion>$(MicrosoftNETSdkAspireManifest80100PackageVersion)</AspireWorkloadManifestVersion>
  </PropertyGroup>
</Project>
